generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
   url     = env("DATABASE_URL")
}



enum MemberType {
  普通会员
  超级会员
  至尊会员
}

enum Gender {
  man
  woman
  secret
}

model User {
  id          String      @id @default(uuid())
  email       String      @unique
  password    String
  account     String      @unique
  memberType  MemberType  @default(普通会员)
  gender      Gender      @default(secret)
  birthday    DateTime?
  avatar      String?
  nickname    String?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  logins      UserLogin[]
}

model UserLogin {
  id           String   @id @default(uuid())
  user         User     @relation(fields: [userId], references: [id])
  userId       String
  deviceName   String
  deviceType   String
  deviceId     String
  refreshToken String
  loginAt      DateTime @default(now())
  logoutAt     DateTime?
  ipAddress    String?
  userAgent    String?
  
  @@unique([userId, deviceId])
}